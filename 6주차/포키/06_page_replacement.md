# Page Replacement

> 메모리 과할당 발생 시, 프로세스 하나를 swap out 해서 빈 프레임 확보

- victim page: out되는 페이지

## 오버헤드 해결법

- victim page 비우기 + 원하는 page 올리기 → 두 번의 디스크 접근
  - 페이지 교체 많이 이루어지면 오버헤드 발생

### 방법 1

모든 페이지에 변경 비트 부여

- 변경 비트 set → 해당 페이지 내용이 수정되었다는 뜻 → 디스크에 기록
- 변경 비트 clear → 기록할 필요 없음
- 디스크 기록 횟수 감소, 오버헤드 최대 절반으로 감소

### 방법 2

적절한 페이지 교체 알고리즘 선택 (현 상황에서 page fault 발생 확률 최소화할 수 있는 교체 알고리즘)

- FIFO
- OPT
- LRU

## 페이지 교체 알고리즘

### FIFO

> First-In First-Out

- 가장 먼저 메모리에 올라온 페이지가 victim page
- 가장 간단한 방법
- 초기화 코드에서 적절
  - 초기화 코드: 처음 프로세스 실행될 때 최초 초기화 시키는 역할만 진행 → 초기화 후 가장 먼저 내보내기 가능

### OPT

> Optional

- 앞으로 가장 사용되지 않을 페이지가 victim page
- 실질적으로 앞으로 사용될지를 보장할 수 없기 때문에 수행하기 어려움

### LRU

> Least-Recently-Used

- 최근에 사용하지 않은(사용한지 가장 오래된) 페이지가 victim page
- OPT와 다르게 미래 예측이 아닌 과거에 대한 판단이므로 실질적 사용 가능
- 실제 사용가능한 페이지 교체 알고리즘 중 가장 좋은 방법 중 하나

## 교체 방식

- Global 교체: 메모리 상의 모든 프로세스 페이지에 대해 교체
- Local 교체: 메모리 상의 자신의 프로세스 페이지에서만 교체
- 실제로는 Global 교체가 더 효율적
  - Local 교체를 하면 각각 교체가 진행되어야 하므로
